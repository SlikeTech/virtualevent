"use strict";var Application=function(){var t,o,i,n,s;$("#loginEl .form-control").off("keypress").on("keypress",function(a){13==a.which&&e()});var e=function(){s=$("#loginEl .form-control").val(),Login.validateEmail(s)?a():(Notification.notify("fail","Invalid user. Please enter valid email"),$("#preloaderstop").addClass("H"),$("#loginEl").removeClass("H"))},a=function(){var a=new FormData;a.append("email",s),a.append("eventid",eventId);var e={url:"login.json",data:a,type:"POST",cb:l.bind(this)};Utility.loader(e)},l=function(a){a.data?a.data.error?($("#preloaderstop").addClass("H"),$("#loginEl").removeClass("H"),Notification.notify("fail",a.data.msg)):(EventStore.setUser(a.data),Utility.loader({url:"events.json?eventid="+eventId,cb:d.bind(this)}),""===Login.getCookie()&&Login.createCookie("usermailid",s,1)):($("#preloaderstop").addClass("H"),$("#loginEl").removeClass("H"),Notification.notify("fail","Server Connection Issue"))},d=function(a){var e;$("#preloaderstop").addClass("H"),$("#loginEl").addClass("H"),$(".wrapper").show(),a.data?(e=EventStore.parseMaster(a.data)).suc?(t.renderPage(EventStore.getPageData(e.actPage)),i.init(t,c.bind(this)),o.init(this,r.bind(this)),window.location.hash=e.actPage,Utility.loader({url:"users/myprofile.json",cb:function(a){EventStore.setUserProfile(a.data),n.userStatusUpdate()}}),n.init(t,c.bind(this)),Chat.init(),Notification.init()):Notification.notify("fail","Master JSON Error"):Notification.notify("fail","Master JSON load issue")},c=function(a,e){e||(window.location.hash=a),t.renderPage(EventStore.getPageData(a)),n.audinces()},r=function(a){console.log("BROWSEE BUTTON::",a),""!=a&&EventStore.getActivePage()!==a&&c(a.substr(1),!0)},m=function(){var a=$("#loginEl [type=checkbox]"),e=localStorage.getItem("email"),t=$("#loginEl .form-control");e?(t.val(e),a.prop("checked",!0)):(a.prop("checked",!1),t.val(""),localStorage.setItem("email","")),a.off("click").on("click",function(){this.checked?Login.validateEmail($(t).val())&&localStorage.setItem("email",$(t).val()):localStorage.setItem("email","")})};return{init:function(){m(),(t=new PageRenderer).init(this,c.bind(this)),o=new Router,i=new Navigation,n=new User,""!==(s=Login.getCookie())?a():($("#preloaderstop").addClass("H"),$("#loginEl").removeClass("H"))},loginClicked:e}},BusinessCard=function(){var n,l,s,d,c,r,m=function(){$("#modalinsidebody button").off("click").on("click",function(){var a,e,t,o,i,n,s;"edit"==this.id?d():(a=$("#modalinsidebody [name=name]"),e=$("#modalinsidebody [name=email]"),t=$("#modalinsidebody [name=company]"),o=$("#modalinsidebody [name=job]"),i=$("#modalinsidebody [name=phone]"),(n={}).name=""===a.val()?a.attr("placeholder"):a.val(),n.mail=""===e.val()?e.attr("placeholder"):e.val(),n.company=""===t.val()?t.attr("placeholder"):t.val(),n.job=""===o.val()?o.attr("placeholder"):o.val(),n.phone=""===i.val()?i.attr("placeholder"):i.val(),(s=new FormData).append("otherUserId",l.uuid),Utility.loader({url:"businesscard/share.json",data:s,type:"POST",cb:function(){console.log("done"),$(r).addClass("disableIcon")}}),$("#modalinsideclose").click())})},u=function(a){console.log(a);var e='<div class="business-card">';return e+='<div class="row m0">',e+='<div class="card-lhs">',e+='<div class="card-image">',e+='<img src="images/card-avatar.svg">',e+="</div>",e+='<div class="card-name">',e+='<div class="form-group m0">',e+='<input type="text" class="form-control userName" data-type="edt" name="name" value="'+a.name+'" disabled>',e+="</div>",e+='<div class="form-group m0">',e+='<input type="text" class="form-control compnay" data-type="edt" name="company" value="'+a.companyname+'" disabled>',e+="</div>",e+='<div class="form-group m0">',e+='<input type="text" class="form-control designation" data-type="edt" name="job" value="'+a.jobtitle+'" disabled>',e+="</div>",e+="</div>",e+="</div>",e+='<div class="card-rhs">',e+='<div class="row mb-2"><i class="material-icons">phone</i>',e+='<div class="form-group m0">',e+='<input type="text" class="form-control phoneNo" data-type="edt" name="phone"  placeholder="'+a.phone+'" disabled>',e+="</div>",e+="</div>",e+='<div class="row"><i class="material-icons">email</i>',e+='<div class="form-group m0">',e+='<input type="email" class="form-control emailId" name="email" placeholder="'+a.email+'" disabled>',e+="</div>",e+="</div>",e+="</div>",e+="</div>",e+="</div>",n&&(e+='<div class="modal-footer">',e+='<button type="button" id="edit" class="btn btn-secondary btn-sm">Edit <i class="material-icons f16">edit</i></button>',e+='<button type="button" id="shard" class="btn btn-secondary btn-sm">Share <svg xmlns="http://www.w3.org/2000/svg" width="18.041" height="15.031" viewBox="0 0 18.041 15.031"><path d="M22.383,13.063l-6.628-6.2a.339.339,0,0,0-.263-.113c-.207.009-.47.155-.47.376v3.11a.2.2,0,0,1-.169.193C8.263,11.438,5.487,16.37,4.505,21.49c-.038.2.235.39.362.23a11.979,11.979,0,0,1,9.958-5.045.232.232,0,0,1,.2.225v3.053a.4.4,0,0,0,.681.249l6.675-6.308a.519.519,0,0,0,.164-.395A.629.629,0,0,0,22.383,13.063Z" transform="translate(-4.502 -6.749)"/></svg></button>',e+="</div>"),e},v=function(){var a={},e=EventStore.getUserProfile();return a.name=e.firstname+" "+e.lastname,a.email=e.email,a.phone=""===e.phone?"+91-9999999999":e.phone,a.jobtitle=e.jobtitle,a.companyname=e.companyname,a.image=e.image,a};return{init:function(){},renderCard:function(a,e,t,o,i){l=e,d=o,s={},c=a,r=i,(n=t)?(EventStore.getUserProfile(),s=v()):(s.name=l.name,s.email=l.email,s.phone=""===l.phone?"+91-9999999999":l.phone,s.jobtitle=l.jobtitle,s.companyname=l.companyname,s.image=l.image),a.html(u(s)),n&&m()},updateCard:function(){c.html(u(v())),m()}}},Chat=function(){var a,l,i,e=function(){$(".chat-floater .chat-icon").off("click").on("click",function(){}),$(".chat-floater .minimise-icon").off("click").on("click",function(){$(".chat-cOuter").hasClass("H")?($(".chat-cOuter").removeClass("H"),$(".chat-floater").addClass("show-minimise-chat"),0===i.lhs.data.length&&o()):($(".chat-cOuter").addClass("H"),$(".chat-floater").removeClass("show-minimise-chat"))}),$(".chat-floater .maximize-icon").off("click").on("click",function(){$("#exampleModal3").modal("show"),$("#singleChat .fChat-header .min-Icon").click(),0===i.lhs.data.length&&o()}),$("#modalBodyP3").html(m()),$(".full-chat .chat-edit").off("click").on("click",function(){var a;$(".full-chat #editGroup").is(":visible")?$(".full-chat #editGroup").addClass("H"):($(".full-chat #editGroup").removeClass("H"),a=d("edit"),$("#editGroup .chat-header").html(a.header),$("#editGroup .chat-messages").html(a.message))}),$(".full-chat .chat-button").off("click").on("click",function(){}),$(".full-chat .min-Icon").off("click").on("click",function(){}),$(".full-chat .dock-Icon").off("click").on("click",function(){$("#exampleModal3").modal("hide"),$(".chat-floater .minimise-icon").click()}),$(".full-chat .close-Icon").off("click").on("click",function(){$("#exampleModal3").modal("hide")}),$(".full-chat #status a").off("click").on("click",function(){}),$(".full-chat .user-icons .user-action").off("click").on("click",function(){}),$(".full-chat #attSearch").off("click").on("click",function(){}),$(".full-chat .exit-group").off("click").on("click",function(){}),$("#singleChat").html(u()),$("#singleChat .fChat-header .min-Icon").off("click").on("click",function(){$("#singleChat .chat-cOuter").addClass("H"),$(".chat-floater").removeClass("show-minimise-chat")}),$("#singleChat .fChat-header .dock-Icon").off("click").on("click",function(){}),$("#singleChat .fChat-header .close-Icon").off("click").on("click",function(){})},t=function(a){if(a.data){for(var e=a.data.body,t=0;t<e.length;t++)l.master[e[t].uuid]={name:e[t].firstname+" "+e[t].lastname,type:"user"},l.list.users.push(e[t].uuid),l.messages[e[t].uuid]={archieved:[],newMessage:[]};for(e=EventStore.getStore().eventData.chats,t=0;t<e.length;t++)l.master[e[t].room_id]={name:e[t].room_name,type:"room",page:e[t].room_id,admin:e[t].admin_userIds.split(","),acl:e[t].acl,chatmode:e[t].chatmode},l.list.rooms.push(e[t].room_id),l.messages[e[t].room_id]={archieved:[],newMessage:[]};return EventStore.setAttendies(a.data.body),void s()}EventStore.setAttendies([])},o=function(){"all"===i.lhs.type?i.lhs.data=l.list.rooms.concat(l.list.users):"room"===i.lhs.type||i.lhs.type,i.rhs.data=l.messages[i.rhs.type].archieved.concat(l.messages.newMessage),$(".full-chat .chat-user").html(n()),c(i.rhs.type),$(".fChat-lhs .chat-row").off("click").on("click",function(){console.log($(this).attr("data-id")),c($(this).attr("data-id"))})},n=function(){for(var a,e="",e="",t=i.lhs.data,o=0;o<t.length;o++)console.log(l.master[t[o]]),e+='<div class="chat-row" data-id="'+t[o]+'" data-type="'+l.master[t[o]].type+'">',e+='<i class="material-icons">account_circle</i>',e+='<div class="chat-name text-truncate">'+l.master[t[o]].name+"</div>",console.log(t[o]),e+='<div class="chat-date'+(0===(a=l.messages[t[o]].newMessage.length)?"H":"l")+' ">',e+="<span>",e+=a,e+="</span>",e+="</div>",e+="</div>";return e},s=function(){(a=new WebSocket("wss://act-dev.cleo.live/event?evtid="+EventStore.getUser().eventid+"&jwt="+EventStore.getUser().jwt)).onopen=function(){console.log("connected")},a.onclose=function(){console.log("disconnected")},a.onerror=function(a){console.log("failed to connect",a)},a.onmessage=function(a){var e=a.data.split("::");if(e.length)if("74"===e[0]){if(1<e.length){var t=JSON.parse(e[1]).rooms;console.log(t);for(var o=0;o<t.length;o++)l.master[t[o].ID]||(l.master[t[o].ID]={name:t[o].ID===eventId?"GLOBAL ROOM":t[o].Title,type:"room",page:t[o].ID,admin:t[o].Admin.split(","),acl:t[o].ACL,chatmode:e[o].ChatMode},l.list.rooms.push(t[o].ID),l.messages[t[o].ID]={archieved:[],newMessage:[]})}}else e[0]}},d=function(a){var e={},t="";return t+='<div class="dF">',t+='<i class="material-icons f45">group_add</i>',t+='<div class="chat-group">',"edit"===a?(t+="<b>EDIT GROUP</b>",t+="<span>Add or Remove participants</span>"):(t+="<b>CREATE GROUP</b>",t+="<span>Create your custom group and add participants</span>"),t+="</div>",t+="</div>",t+="</div>",e.header=t,t="","edit"===a||(t='<div class="group-name">',t+='<input type="text" id="groupName" name="" placeholder="Your group name here">',t+="</div>"),t+='<div class="user-add">',t+='<div class="user-add-header">Users added in group</div>',t+='<div class="user-add-list">',"edit"===a||(t+='<div class="chip"><span class="text-truncate">Tag 220</span> <i class="material-icons">cancel</i></div>',t+='<div class="chip"><span class="text-truncate">Tag 220</span> <i class="material-icons">cancel</i></div>',t+='<div class="chip"><span class="text-truncate">Tag 220</span> <i class="material-icons">cancel</i></div>'),t+="</div>",t+='<div class="user-add-btn">',t+='<button class="lightBtn" type="button">Cancel</button>',t+='<button class="lightBtn" type="button">Save</button>',t+="</div>",e.message=t,e},c=function(a){var e=l.master[a].name,t=l.master[a].type,o='<div class="dF">';o+='<i class="material-icons f45">account_circle</i>',o+='<div class="chat-group">',o+="<b>"+e+"</b>",o+="<span>Members: 226</span>",o+="</div>","user"===t&&(o+='<div class="user-icons">',o+='<div class="user-action"   data-id="msg-vid">'+r("video"),o+="</div>",o+='<div class="user-action" data-id="msg-email">'+r("email"),o+="</div>",o+='<div class="user-action" data-id="msg-bcard">'+r("bcard"),o+="</div>",o+='<div class="user-action"  data-id="msg-usr">'+r("user"),o+="</div>",o+="</div>",o+="</div>"),$("#chatBox .chat-header").html(o);for(var i=["f5d9k9699k","f5n9o69lkl","fr15ol9zg9"],n="",s=0;s<i.length;s++)n+=s%2==0?'<div class="row other-chat"><i class="material-icons">account_circle</i><div class="message-text"><b>Admin</b><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text.</p><span class="chat-time">10:38 AM</span></div><div class="email-chat">                                    <svg xmlns="http://www.w3.org/2000/svg" width="19.54" height="13.19" viewBox="0 0 19.54 13.19"><defs><style>.a{fill:#acacac;}</style></defs><path class="a" d="M.072,16.09V5.236q0-.019.057-.358l6.388,5.465L.147,16.467a1.6,1.6,0,0,1-.075-.377ZM.92,4.125a.812.812,0,0,1,.32-.057h17.2a1.067,1.067,0,0,1,.339.057L12.377,9.608l-.848.678L9.852,11.662,8.175,10.286l-.848-.678ZM.939,17.2,7.364,11.04l2.487,2.016,2.487-2.016L18.764,17.2a.9.9,0,0,1-.32.057H1.24a.853.853,0,0,1-.3-.057Zm12.248-6.859,6.369-5.465a1.125,1.125,0,0,1,.057.358V16.09a1.444,1.444,0,0,1-.057.377Z" transform="translate(-0.072 -4.068)"/></svg></div><div class="business-icon"><svg xmlns="http://www.w3.org/2000/svg" width="17.967" height="13.974" viewBox="0 0 17.967 13.974"><defs><style>.a{fill:#acacac;}</style></defs><path class="a" d="M16.47,2.25H1.5A1.5,1.5,0,0,0,0,3.747v10.98a1.5,1.5,0,0,0,1.5,1.5H16.47a1.5,1.5,0,0,0,1.5-1.5V3.747A1.5,1.5,0,0,0,16.47,2.25ZM5.49,5.244a2,2,0,1,1-2,2A2,2,0,0,1,5.49,5.244Zm3.494,7.386a.654.654,0,0,1-.7.6H2.7a.654.654,0,0,1-.7-.6v-.6a1.964,1.964,0,0,1,2.1-1.8h.156a3.213,3.213,0,0,0,2.483,0h.156a1.964,1.964,0,0,1,2.1,1.8Zm6.987-1.647a.25.25,0,0,1-.25.25H11.229a.25.25,0,0,1-.25-.25v-.5a.25.25,0,0,1,.25-.25h4.492a.25.25,0,0,1,.25.25Zm0-2a.25.25,0,0,1-.25.25H11.229a.25.25,0,0,1-.25-.25v-.5a.25.25,0,0,1,.25-.25h4.492a.25.25,0,0,1,.25.25Zm0-2a.25.25,0,0,1-.25.25H11.229a.25.25,0,0,1-.25-.25v-.5a.25.25,0,0,1,.25-.25h4.492a.25.25,0,0,1,.25.25Z" transform="translate(0 -2.25)"/></svg></div></div>':'<div class="row self-chat"><i class="material-icons">account_circle</i><div class="message-text"><b>Admin</b><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text.</p></div></div>';$("#chatBox .chat-messages").html(n)},r=function(a){switch(a){case"min":return'<svg xmlns="http://www.w3.org/2000/svg" width="15.313" height="3.828" viewBox="0 0 15.313 3.828"><defs><style>.a{fill:#acacac;}</style></defs><path class="a" d="M13.877,24.75H1.436A1.436,1.436,0,0,0,0,26.186v.957a1.436,1.436,0,0,0,1.436,1.436H13.877a1.436,1.436,0,0,0,1.436-1.436v-.957A1.436,1.436,0,0,0,13.877,24.75Z" transform="translate(0 -24.75)"/></svg>';case"dock":return'<svg xmlns="http://www.w3.org/2000/svg" width="21" height="14" viewBox="0 0 21 14"><g transform="translate(-889.5 -104)"><rect width="7" height="14" transform="translate(903.5 104)"/><line x1="20" transform="translate(890 104.5)"/><path class="b" d="M20,0H0" transform="translate(890 117.5)"/><line class="b" y1="13" transform="translate(890 104.5)"/></g></svg>';case"close":return'<svg xmlns="http://www.w3.org/2000/svg" width="11" height="11.002" viewBox="0 0 11 11.002"><defs><style>.a{fill:#ababab;}</style></defs><path class="a" d="M18.089,16.79l3.929-3.931a.921.921,0,1,0-1.3-1.3l-3.929,3.931-3.929-3.931a.921.921,0,1,0-1.3,1.3l3.929,3.931L11.556,20.72a.921.921,0,0,0,1.3,1.3l3.929-3.931,3.929,3.931a.921.921,0,1,0,1.3-1.3Z" transform="translate(-11.285 -11.289)"/></svg>';case"video":return'<svg xmlns="http://www.w3.org/2000/svg" width="20.318" height="13.546" viewBox="0 0 20.318 13.546"><defs><style>.a{fill:#a1a1a1;}</style></defs><path class="a" d="M11.859,4.5H1.686A1.686,1.686,0,0,0,0,6.186V16.359a1.686,1.686,0,0,0,1.686,1.686H11.859a1.686,1.686,0,0,0,1.686-1.686V6.186A1.686,1.686,0,0,0,11.859,4.5ZM18.54,5.83,14.674,8.5v5.552l3.866,2.663a1.131,1.131,0,0,0,1.778-.91V6.74A1.132,1.132,0,0,0,18.54,5.83Z" transform="translate(0 -4.5)"/></svg>';case"email":return'<svg xmlns="http://www.w3.org/2000/svg" width="20.761" height="14.014" viewBox="0 0 20.761 14.014"><defs><style>.a{fill:#acacac;}</style></defs><path class="a" d="M.072,16.841V5.309q0-.02.06-.38l6.787,5.806L.152,17.241a1.7,1.7,0,0,1-.08-.4Zm.9-12.713a.863.863,0,0,1,.34-.06H19.591a1.134,1.134,0,0,1,.36.06L13.145,9.954l-.9.721-1.782,1.461L8.681,10.675l-.9-.721Zm.02,13.894L7.82,11.475l2.643,2.142L13.1,11.475l6.827,6.546a.961.961,0,0,1-.34.06H1.313a.907.907,0,0,1-.32-.06Zm13.013-7.287,6.767-5.806a1.2,1.2,0,0,1,.06.38V16.841a1.535,1.535,0,0,1-.06.4Z" transform="translate(-0.072 -4.068)"/></svg>';case"bcard":return'<svg xmlns="http://www.w3.org/2000/svg" width="20.355" height="15.832" viewBox="0 0 20.355 15.832"><defs><style>.a{fill:#acacac;}</style></defs><path class="a" d="M18.659,2.25H1.7A1.7,1.7,0,0,0,0,3.946V16.386a1.7,1.7,0,0,0,1.7,1.7H18.659a1.7,1.7,0,0,0,1.7-1.7V3.946A1.7,1.7,0,0,0,18.659,2.25ZM6.22,5.643A2.262,2.262,0,1,1,3.958,7.9,2.264,2.264,0,0,1,6.22,5.643Zm3.958,8.368a.741.741,0,0,1-.792.679H3.053a.741.741,0,0,1-.792-.679v-.679A2.225,2.225,0,0,1,4.637,11.3h.177a3.64,3.64,0,0,0,2.813,0H7.8a2.225,2.225,0,0,1,2.375,2.036Zm7.916-1.866a.284.284,0,0,1-.283.283H12.722a.284.284,0,0,1-.283-.283V11.58a.284.284,0,0,1,.283-.283h5.089a.284.284,0,0,1,.283.283Zm0-2.262a.284.284,0,0,1-.283.283H12.722a.284.284,0,0,1-.283-.283V9.318a.284.284,0,0,1,.283-.283h5.089a.284.284,0,0,1,.283.283Zm0-2.262a.284.284,0,0,1-.283.283H12.722a.284.284,0,0,1-.283-.283V7.056a.284.284,0,0,1,.283-.283h5.089a.284.284,0,0,1,.283.283Z" transform="translate(0 -2.25)"/></svg>';case"user":return'<svg xmlns="http://www.w3.org/2000/svg" width="19.293" height="19.293" viewBox="0 0 19.293 19.293"><defs><style>.a{fill:#a1a1a1;}</style></defs><path class="a" d="M9.806,15.795A6.643,6.643,0,0,1,14.14,9.574a5.505,5.505,0,0,0,.489-2.219c0-3,0-5.426-3.617-5.426S7.394,4.357,7.394,7.354a5.386,5.386,0,0,0,2.412,4.481v.994c-4.09.334-7.235,2.344-7.235,4.774h7.486a6.616,6.616,0,0,1-.251-1.809Zm6.632-5.426a5.426,5.426,0,1,0,5.426,5.426A5.426,5.426,0,0,0,16.438,10.369ZM19.452,16.4H13.423V15.192h6.029Z" transform="translate(-2.571 -1.928)"/></svg>';case"exit":return'<svg xmlns="http://www.w3.org/2000/svg" width="16.706" height="17.819" viewBox="0 0 16.706 17.819"><defs><style>.exitIcn{fill:#ac2727;}</style></defs><path class="exitIcn" d="M15.935,13.065V10.838H10.367V8.61h5.569V6.383l3.341,3.341Zm-1.114-1.114v4.455H9.253v3.341L2.571,16.406V1.928H14.822V7.5H13.708V3.042H4.8L9.253,5.269V15.293h4.455V11.951Z" transform="translate(-2.571 -1.928)"/></svg>'}},m=function(){return'<div class="full-chat">    <div class="fChat-lhs">                <div class="fChat-header">                    <div class="booth-avatar">                        <i class="material-icons">account_circle</i>                    </div>                <div class="chat-action">                                            <div class="dropdown" id="status">                        <div class="dropdown-toggle" href="#" role="button" id="chat-status" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                            Online                        </div>                        <div class="dropdown-menu dropdown-menu-lg-right" aria-labelledby="chat-status">                            <a class="dropdown-item" href="#" data-id="online">Online</a>                            <a class="dropdown-item current" href="#" data-id="away">Away</a>                            <a class="dropdown-item" href="#" data-id="dnd">Do not Distrub</a>                        </div>                    </div>                    <div class="chat-edit">'+((a="edit")===a?'<svg xmlns="http://www.w3.org/2000/svg" width="15.756" height="14.405" viewBox="0 0 15.756 14.405"><defs><style>.a{fill:#ababab;}</style></defs><path class="a" d="M11.449,17.881a.678.678,0,0,1-.477.2H9.225A.677.677,0,0,1,8.55,17.4V15.653a.678.678,0,0,1,.2-.477l.034-.034L15.01,8.914a.168.168,0,0,0-.118-.287H4.727A2.478,2.478,0,0,0,2.25,11.1v9.452a2.478,2.478,0,0,0,2.477,2.477h10.8a2.478,2.478,0,0,0,2.477-2.477V11.737a.168.168,0,0,0-.287-.118l-6.236,6.228Z" transform="translate(-2.25 -8.627)"/></svg>':"")+'                    </div>                </div>                                    </div>                    <div class="chat-search">                        <input type="text" id="attSearch" name="" placeholder="Search by name, company, designation">                        <i class="material-icons">search</i>                    </div>                    <div class="chat-user">                    </div>            </div>            <div id="editGroup" class="fChat-rhs H">                <div class="fChat-header">                    <div class="min-Icon" data-id="ed-min">'+r("min")+'                    </div>                    <div class="dock-Icon"  data-id="ed-min">'+r("dock")+'                    </div>                    <div class="close-Icon"  data-id="ed-close">'+r("close")+'                    </div>                </div>                <div class="chat-header">                </div>                <div class="chat-messages" style="height: calc(100% - 100px);">                </div>                </div>            <div id="chatBox" class="fChat-rhs">                <div class="fChat-header">                    <div class="min-Icon"  data-id="msg-min">'+r("min")+'                    </div>                    <div class="dock-Icon" data-id="msg-doc">'+r("dock")+'                    </div>                    <div class="close-Icon" data-id="msg-close">'+r("close")+'                    </div>                </div>                <div class="chat-header">                </div>                <div class="chat-messages" style="height: calc(100% - 140px);">                </div>            <div class="chat-input">                <input type="text" id="msgBox" name="" placeholder="Type your message here">                <button class="chat-button" type="button">Send <i class="material-icons">send</i></button>            </div>            </div>            </div>';var a},u=function(){return'<div class="chat-cOuter H">                    <div class="fChat-header">                        <div class="chat-user-avatar">                                                   <div class="dropdown" id="userStatus">                                <a class="dropdown-toggle" href="#" role="button" id="user-login" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                                    <i class="material-icons">account_circle</i>                                    <span class="status away" id="status">                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="11" height="11" viewBox="0 0 11 11"><defs><style>.b,.c{stroke:none;}</style></defs><g><path class="b" d="M 5.5 10.5 C 2.742990016937256 10.5 0.5 8.257010459899902 0.5 5.5 C 0.5 2.742990016937256 2.742990016937256 0.5 5.5 0.5 C 8.257010459899902 0.5 10.5 2.742990016937256 10.5 5.5 C 10.5 8.257010459899902 8.257010459899902 10.5 5.5 10.5 Z"/><path class="c" d="M 5.5 1 C 3.01869010925293 1 1 3.01869010925293 1 5.5 C 1 7.98130989074707 3.01869010925293 10 5.5 10 C 7.98130989074707 10 10 7.98130989074707 10 5.5 C 10 3.01869010925293 7.98130989074707 1 5.5 1 M 5.5 0 C 8.537569999694824 0 11 2.462430000305176 11 5.5 C 11 8.537569999694824 8.537569999694824 11 5.5 11 C 2.462430000305176 11 0 8.537569999694824 0 5.5 C 0 2.462430000305176 2.462430000305176 0 5.5 0 Z"/></g></svg>                                   </span>                                  </a>                                  <div class="dropdown-menu dropdown-menu-lg-right" aria-labelledby="user-login">                                       <a class="dropdown-item" href="#" data-id="online">Online</a>                                       <a class="dropdown-item current" href="#" data-id="away">Away</a>                                       <a class="dropdown-item" href="#" data-id="dnd">Do not Distrub</a>                                  </div>                              </div>                        </div>                        <div class="min-Icon">'+r("min")+'</div>                        <div class="dock-Icon">'+r("dock")+'</div>                        <div class="close-Icon">'+r("close")+'</div>                    </div>                    <div class="chat-header">                    </div>                    <div class="chat-messages">                    </div>                <div class="chat-input">                    <input type="text" id="attSearch" name="" placeholder="Type your message here">                    <button class="chat-button" type="button">Send <i class="material-icons">send</i></button>                </div>'};return{init:function(){l={master:{},messages:{},list:{rooms:[],users:[]}},i={lhs:{type:"all",data:[]},rhs:{type:eventId,data:[]}},Utility.loader({url:"users/attendees.json?eventid=f5n9o69lkl",cb:t.bind(this)}),e()},openSingleWindow:function(a){console.log(a),$(".chat-floater .minimise-icon").click()}}}(),ImageContainer=function(){var t=function(a){return'<img src="'+a+'" style="width:100%;height:'+$("#modalinsidebody").height()+'px;">'};return{init:function(){},renderImage:function(a,e){$(a).html(""),$(a).html(t(e.resource))}}},Mail=function(){function l(a,e){var t=EventStore.getUser(),o=e;ol={},ol.name=o.fromname,ol.companyname=o.fromcompanyname,ol.fromuuid=o.fromuuid,ol.subject=o.subject,ol.mailid=o.mailid,ol.fromname=o.fromname,ol.fromuuid=o.fromuuid,a.html(r(ol)),s(t.uuid),d(t.uuid),i(o.messages,t),c()}var i=function(a,t){var e=JSON.parse(a);console.log("my messages are ",e);var o="";void 0!==e&&0<e.messages.length&&(e.messages.forEach(function(a,e){t.uuid!=a.fromid?o+='<div class="row other-chat m0"> <i class="material-icons">account_circle</i>\n                                <div class="message-text">\n                                    <p>'+a.message+'</p> \n                                    <span class="chat-time">'+moment.unix(a.datetime).fromNow()+"</span>\n                                </div>\n                            </div>":o+='<div class="row self-chat m0"> <i class="material-icons">account_circle</i>\n                                <div class="message-text">\n                                    <p>'+a.message+'</p> \n                                    <span class="chat-time">'+moment.unix(a.datetime).fromNow()+"</span>\n                                </div>\n                            </div>"}),$(".chat-messages").html(o))},s=function(a){console.log("getting data for",a),Utility.loader({url:"mails/sentmails.json?uid="+a,prldr:"H",cb:t.bind(this)})},d=function(a){Utility.loader({url:"mails/inboxmails.json?uid="+a,prldr:"H",cb:e.bind(this)})},e=function(a){var t=0;if(null===a.data)return null;mData=a.data;var o="";console.log("inbox data",mData.body),void 0!==mData.body&&mData.body.forEach(function(a,e){0==a.readmail?(t++,o+="<div  data-mailid = "+a.mailid+" data-fromname="+encodeURIComponent(a.fromname)+" data-fromuid="+encodeURIComponent(a.fromuid)+" data-subject="+encodeURIComponent(a.subject)+" data-toname = "+encodeURIComponent(a.toname)+"  data-touid = "+a.touid+" data-fromcompanyname = "+encodeURIComponent(a.fromcompanyname)+" data-tocompanyname= "+encodeURIComponent(a.tocompanyname)+" data-messages="+encodeURIComponent(JSON.stringify(a.messages))+' class="unread inboxui">'+a.subject+"</div>"):o+="<div  data-mailid = "+a.mailid+" data-fromname="+encodeURIComponent(a.fromname)+" data-fromuid="+encodeURIComponent(a.fromuid)+" data-subject="+encodeURIComponent(a.subject)+" data-toname = "+encodeURIComponent(a.toname)+"  data-touid = "+a.touid+" data-fromcompanyname = "+encodeURIComponent(a.fromcompanyname)+" data-tocompanyname= "+encodeURIComponent(a.tocompanyname)+" data-messages="+encodeURIComponent(JSON.stringify(a.messages))+' class="read inboxui">'+a.subject+"</div>"}),$(".inboxmails").html(o),c(),0==t?$(".removemsg").removeClass("no-msg"):($(".removemsg").addClass("no-msg"),$(".no-msg").html(t))},t=function(a){if(null===a.data)return null;mData=a.data;var t="";console.log("sendbox data",mData.body),void 0!==mData.body&&mData.body.forEach(function(a,e){t+="<div  data-mailid = "+a.mailid+" data-fromname="+encodeURIComponent(a.fromname)+" data-fromuid="+encodeURIComponent(a.fromuid)+" data-subject="+encodeURIComponent(a.subject)+" data-toname = "+encodeURIComponent(a.toname)+"  data-touid = "+a.touid+" data-fromcompanyname = "+encodeURIComponent(a.fromcompanyname)+" data-tocompanyname= "+encodeURIComponent(a.tocompanyname)+" data-messages="+encodeURIComponent(JSON.stringify(a.messages))+' class="read sentboxui">'+a.subject+"</div>"}),$(".sendmails").html(t)},c=function(){$("#sendmail").off("click").on("click",function(){var a=EventStore.getUser(),e=$("#modalinsidebody [name=name]"),t=$("#modalinsidebody [name=message]"),o=$("#modalinsidebody [name=subject]"),i=$("#modalinsidebody [name=fromname]"),n=$("#modalinsidebody [name=fromuuid]"),s=$("#modalinsidebody [name=mailid]"),l=i.val(),d=n.val(),c=s.val();console.log(l,d,c),console.log("user is",a);var r=o.val(),m=a.firstname+" "+a.lastname,u=a.uuid,v=void 0!==l&&""!=l?l:e.val(),p=void 0!==d&&""!=d?d:data_.uuid;console.log("userid is ",p);var h=t.val(),h=[{datetime:Math.round(Date.now()/1e3),fromid:u,message:h}],f=new FormData;f.append("subject",r),f.append("fromuid",u),f.append("touid",p),f.append("fromuname",m),f.append("touname",v),void 0!==c&&""!=c&&f.append("uuid",c),f.append("messages",JSON.stringify(h)),Utility.loader({url:"mails.json",data:f,type:"POST",cb:function(a){console.log("done"),console.log(a),Notification.notify("success","Mail Sent Sucessfully")}}),$("#modalinsideclose").click()}),$(".email-nav").off("click").on("click",function(){$(".emails").addClass("H"),$(".email-nav").removeClass("active"),$(this).addClass("active");var a=$(this).attr("data-id");"inbox"==a?$(".inboxmails").removeClass("H"):"send"==a?$(".sendmails").removeClass("H"):$(".compose").removeClass("H")}),$(".inboxui").off("click").on("click",function(){var a=$(this).attr("data-fromcompanyname"),e=($(this).attr("data-tocompanyname"),$(this).attr("data-fromname")),t=$(this).attr("data-messages"),o=$(this).attr("data-fromuid"),i=$(this).attr("data-subject"),n=$(this).attr("data-mailid"),s={fromname:decodeURIComponent(e),fromcompanyname:decodeURIComponent(a),messages:decodeURIComponent(t),fromuuid:decodeURIComponent(o),subject:decodeURIComponent(i),mailid:n};console.log(s),l($("#modalinsidebody"),s)}),$(".sentboxui").off("click").on("click",function(){var a=$(this).attr("data-tocompanyname"),e=($(this).attr("data-tocompanyname"),$(this).attr("data-toname")),t=$(this).attr("data-messages"),o=$(this).attr("data-fromuid"),i=$(this).attr("data-subject"),n=$(this).attr("data-mailid"),s={fromname:decodeURIComponent(e),fromcompanyname:decodeURIComponent(a),messages:decodeURIComponent(t),fromuuid:decodeURIComponent(o),subject:decodeURIComponent(i),mailid:n};console.log(s),l($("#modalinsidebody"),s)})},r=function(a){return console.log(a),'<div class="email">\n        <div class="email-lhs">\n            <div data-id="compose" class="email-nav active">                     \n                <svg xmlns="http://www.w3.org/2000/svg" width="22.385" height="22.385" viewBox="0 0 22.385 22.385"><defs><style>.a{fill:#7c7c7c;}</style></defs><path class="a" d="M.531,0A.514.514,0,0,0,0,.531V21.854a.514.514,0,0,0,.531.531H21.854a.514.514,0,0,0,.531-.531V.531A.514.514,0,0,0,21.854,0H.531ZM2.795,5.589H19.563v8.384H16.768l-2.795,2.795H8.384L5.589,13.973H2.795Z"/></svg>\n                Compose\n            </div>\n            <div data-id="inbox" class="email-nav">\n                <svg xmlns="http://www.w3.org/2000/svg" width="22.385" height="22.385" viewBox="0 0 22.385 22.385"><defs><style>.a{fill:#7c7c7c;}</style></defs><path class="a" d="M.531,0A.514.514,0,0,0,0,.531V21.854a.514.514,0,0,0,.531.531H21.854a.514.514,0,0,0,.531-.531V.531A.514.514,0,0,0,21.854,0H.531ZM2.795,5.589H19.563v8.384H16.768l-2.795,2.795H8.384L5.589,13.973H2.795Z"/></svg>\n                Inbox <span class="removemsg no-msg"></span></div>\n            <div data-id="send" class="email-nav sendboxnav">                        \n                <svg xmlns="http://www.w3.org/2000/svg" width="21.634" height="18.544" viewBox="0 0 21.634 18.544"><defs><style>.a{fill:#7c7c7c;}</style></defs><path class="a" d="M3.01,23.044l21.624-9.272L3.01,4.5,3,11.711l15.453,2.06L3,15.832Z" transform="translate(-3 -4.5)"/></svg>\n                Send</div>\n            \n        </div>\n        <div class="email-rhs">\n            \x3c!-- Inbox Message --\x3e                    \n            <div class="email-title emails compose" style="padding-left: 30px;">\n                <div class="dF">\n                    <i class="material-icons">account_circle</i>\n                    <div class="email-user">\n                        <b class="f11 db">'+a.name+"</b>\n                        "+a.companyname+'\n                    </div>\n                </div>\n            </div>\n            <div class="email-sub emails compose" style="padding-left: 30px;">\n                <span>Subject</span>\n                <input type="hidden" name="name" value="'+a.name+'">\n                <input type="hidden" name = "mailid" value="'+a.mailid+'">\n                <input type="hidden" name = "fromuuid" value="'+a.fromuuid+'">\n                <input type="hidden" name = "fromname" value="'+a.fromname+'">\n                <input type="text" name="subject" placeholder="" value="'+a.subject+'" required>\n            </div>\n            <div class="email-content emails compose">\n                <div class="chat-messages">\n                    \x3c!--<div class="row other-chat m0"> <i class="material-icons">account_circle</i>\n                        <div class="message-text">\n                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum\n                                has been the industryâ€™s standard dummy text.</p> \n                            <span class="chat-time">10:38 AM</span>\n                        </div>\n                    </div>                                                \n                    <div class="row self-chat m0"> <i class="material-icons">account_circle</i>\n                        <div class="message-text">\n                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum\n                                has been the industryâ€™s standard dummy text.</p> \n                            <span class="chat-time">10:38 AM</span>\n                        </div>\n                    </div> --\x3e                      \n                </div>                    \n                <div class="chat-input">\n                    <input type="text" name="message"  placeholder="Type your message here">\n                    <button class="chat-button" id="sendmail" type="button"><i class="material-icons">send</i></button>\n                </div>\n            </div>\n            \x3c!-- Inbox --\x3e\n            <div class="inbox inboxmails emails H">\n                <div class="unread">This is dummy UN-READED email subject 1, hope you’re getting the idea</div>\n                <div class="unread">This is dummy UN-READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="unread">This is dummy UN-READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n            </div>\n            \x3c!-- sendbox --\x3e\n            <div class="inbox sendmails emails H">\n                <div class="read">This is dummy UN-READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy UN-READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy UN-READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n                <div class="read">This is dummy READED email subject 1, hope you’re getting the idea</div>\n            </div>\n            \x3c!-- Compose Mail --\x3e\n            <div class="H">\n            <div class="email-title">\n                <div class="dF">                            \n                    <span>To</span>\n                    <i class="material-icons">account_circle</i>\n                    <div class="email-user">\n                        <b class="f11 db">Pradeep Gupta</b>\n                        The Times Of India - Tech Lead\n                    </div>\n                </div>\n            </div>\n            <div class="email-sub">\n                <span>Subject</span>\n                <input type="text" id="attSearch" name="" placeholder="Type your message here">\n            </div>\n            <div class="email-content">\n                <div class="no-email">\n                    <i class="material-icons">info</i> There are no emails threaded in this conversation. Please write the subject and message to start the conversation.\n                </div>\n            </div>\n            <div class="chat-input">\n                <input type="text" name="" placeholder="Type your message here">\n                <button class="chat-button" type="button"><i class="material-icons">send</i></button>\n            </div>\n        </div>\n        </div>\n    </div>'};return{init:function(){},renderMail:function(a,e,t,o,i){var n=EventStore.getUser();console.log("user is",n),edit_=t,dis="disabled",data_=e,callback=o,ol={},elt=a,oRef=i,ol.name=data_.firstname+" "+data_.lastname,ol.email=data_.email,ol.phone=""===data_.phone?"+91-9999999999":data_.phone,ol.jobtitle=data_.jobtitle,ol.companyname=data_.companyname,ol.image=data_.image,ol.subject="",ol.mailid="",ol.fromname="",ol.fromuuid="",a.html(r(ol)),s(n.uuid),d(n.uuid),c()}}},ModalComponent=function(){function a(){var a=EventStore.getUser(),e=a.image;return""===e&&(e="images/user-thumb.jpg"),'<div class="my-profile" id="userprofile"> <div class="row m0"> <div class="user-profile"> <div class="user-image"> <img src="'+e+'" alt=""> </div><div class="edit-image edit123456-image123456 mt-3" style="display:none;"> <button type="button" class="btn btn btn-outline-secondary btn-sm123456 ">UPLOAD PHOTO</button> <input type="file"> </div></div><div class="profile-rhs"><form class="darkForm"> <div class="form-group"> <label for="exampleInputEmail1" class="labelTxt">Name</label><input type="text" class="form-control" data-edt="1" aria-describedby="emailHelp" placeholder="'+a.firstname+'" name="firstname"> </div><div class="form-group"> <label for="exampleInputEmail1" class="labelTxt">&nbsp;</label><input type="text" class="form-control"" data-edt="1" placeholder="'+a.lastname+'" name="lastname"> </div><div class="form-group"> <label for="" class="labelTxt">Designation</label><input type="tex" class="form-control" data-edt="1" placeholder="'+a.jobtitle+'" name="jobtitle"> </div><div class="form-group"> <label for="" class="labelTxt">Company</label><input type="text" class="form-control" data-edt="1" placeholder="'+a.companyname+'" name="company"> </div><div class="form-group"> <label for="" class="labelTxt">Phone Number</label><input type="number" class="form-control"  data-edt="1" placeholder="+91-9999999999" name="phone"> </div><div class="user-footer"><p><b>OFFICIAL EMAIL ADDRESS</b> <span>'+a.email+'</span></p> <button type="button" id="btnProfile" class="btn btn-primary btn-sm">Save</button></div></form></div></div></div><div class="modal-footer"></div>'}var c,t,m,r,o,u,i,v,n,p=function(a){null!==a.data?(c=a.data,e(a.data)):alert("Data not loaded")},e=function(a){var e=a.template;switch($("#mh0").html(N(v.popup_type,"")),e){case"poll":f();break;case"staticpage":g();break;case"agenda":j(["All","Live","Upcoming","Completed"],w),y("all");break;case"playlist":k();break;case"resource":x();break;case"attendees":C(),S([]);break;case"briefcase":j(["All","Videos","Business Card","Document"],M),E("all");break;case"myProfile":h(!0);break;case"leaderBoard":l(),s("a0")}},s=function(a){m.html(d(a))},l=function(){},d=function(a){return"a0"===a?'<div class="leaderboard"> <div class="row listTable m0"> <div class="row-th"> <div class="th-col col-md-2 text-center">Rank</div><div class="th-col col-md-8">Attendee</div><div class="th-col col-md-2">Points</div></div><div class="row-td"> <div class="td-col col-md-2 text-center">2</div><div class="td-col col-md-8">Dhananjay Singh <br>The Times Of India - Tech Lead</div><div class="td-col col-md-2">555555</div></div><div class="row-td"> <div class="td-col col-md-2 text-center">3</div><div class="td-col col-md-8">Dhananjay Singh <br>The Times Of India - Tech Lead</div><div class="td-col col-md-2">555555</div></div><div class="row-td"> <div class="td-col col-md-2 text-center">4</div><div class="td-col col-md-8">Dhananjay Singh <br>The Times Of India - Tech Lead</div><div class="td-col col-md-2">555555</div></div><div class="row-td"> <div class="td-col col-md-2 text-center">5</div><div class="td-col col-md-8">Dhananjay Singh <br>The Times Of India - Tech Lead</div><div class="td-col col-md-2">555555</div></div></div></div>':'<div class="leaderboard"><h5> To be added</h5></div>'},h=function(d){d?m.html(a()):$(".modal-body.p1").html(a()),$(".my-profile #btnProfile").off("click").on("click",function(){var a=".my-profile",e=$(a+" [name=firstname]"),t=$(a+" [name=lastname]"),o=$(a+" [name=company]"),i=$(a+" [name=jobtitle]"),n=$(a+" [name=phone]"),s={};s.firstname=""===e.val()?e.attr("placeholder"):e.val(),s.lastname=""===t.val()?t.attr("placeholder"):t.val(),s.jobtitle=""===i.val()?i.attr("placeholder"):i.val(),s.companyname=""===o.val()?o.attr("placeholder"):o.val(),s.phone=n.val();var l=new FormData;l.append("firstname",s.firstname),l.append("lastname",s.lastname),l.append("jobtitle",s.jobtitle),l.append("companyname",s.companyname),l.append("phone",s.phone),Utility.loader({url:"users/update.json",data:l,type:"POST",cb:function(a){console.log("done",a),EventStore.updateUserProfile(s),V("success","Your profile is updated"),d?$("#exampleModal").modal("hide"):(r.updateCard(s),$("#exampleModal2 button").click())}})})},f=function(){for(var a,e,t=c.body[0].submitted_answers?c.body[0].questions=JSON.parse(c.body[0].submitted_answers):c.body[0].questions=JSON.parse(c.body[0].questions),o="",i='<div class="feedback"><ul>',n=0;n<t.length;n++){i+="<li>",i+="<p>"+t[n].title+"</p>";for(var s=t[n].answers,l=0;l<s.length;l++)i+='<div class="form-check">',"radiobutton"===t[n].type?(t[n].user_answer&&0!=t[n].user_answer.length&&t[n].user_answer[0]===s[l]&&(o="checked"),i+='<label class="form-check-label" for="exampleRadios1"><input class="form-check-input" type="radio" name="qa'+n+'" value="'+s[l]+'"  '+o+">",i+="<span>"+s[l]+"</span></label>"):"checkbox"===t[n].type&&(t[n].user_answer&&0!=t[n].user_answer.length&&-1!==t[n].user_answer.indexOf(s[l])&&(o="checked"),i+='<label class="form-check-label" for="exampleCheck1"><input type="checkbox" class="form-check-input" name="qa'+n+'" value="'+s[l]+'" data-id=q_'+n+" "+o+">",i+="<span>"+s[l]+"</span></label>"),i+="</div>",o="";if("star"===t[n].type){t[n].user_answer&&(a=t[n].user_answer.join()),i+='<div class="rating">';for(var d=1;d<6;d++)i+='<input type="radio" name="rating" value="'+(6-d)+'"  id="'+(6-d)+'"><label for="'+(6-d)+'"></label>';i+="</div>"}else"textarea"===t[n].type&&(t[n].user_answer&&(e=t[n].user_answer),i+='<div class="form-group">',i+='<textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea></div>');i+="</li>",o=""}i+='</ul><button id="postData" class="btn btn-primary float-right mt-3">Submit</button></div>',i+='<div class="modal-footer"></div>',m.html(i),e&&$("#modalBodyP0 textarea").val(e),a&&$("#modalBodyP0 .rating [value="+a+"]").prop("checked",!0),$("#postData").off("click").on("click",function(a){for(var e,t,o=c.body[0].questions,i=0;i<o.length;i++){"checkbox"===o[i].type?(t=[],$("#modalBodyP0 [name=qa"+i+"]:checked").each(function(a,e){t.push($(e).val())}),o[i].user_answer=t):"radiobutton"===o[i].type?(e=$("#modalBodyP0 [name=qa"+i+"]:checked").val(),o[i].user_answer=void 0!==e?[e]:[]):"star"===o[i].type?(e=$("#modalBodyP0 [name=rating]:checked").val(),o[i].user_answer=void 0!==e?[e]:[]):"textarea"===o[i].type&&(o[i].user_answer=$("#modalBodyP0 textarea").val())}var n=new FormData;n.append("data",JSON.stringify(c)),Utility.loader({url:v.action_link,data:n,type:"POST",cb:function(a){a.data?$("#exampleModal").modal("hide"):alert("some issue in posting"),V("success","Thank you for your feedback.")}})})},g=function(){c.body[0].data;m.html(c.body[0].data+'<div class="modal-footer"></div>')},y=function(a){for(var e,t,o,i,n,s=b(a),l="",d=0;d<s.length;d++){n=i=o="",s[d].title,0==s[d].status?(t="liveBtn",e="live"):1==s[d].status?(t="upcomingBtn",e="upcoming",n="disabled"):2==s[d].status&&(t="completeBtn",e="<b>View</b> <span>completed</span></button>");for(var c=s[d].speakers,r=0;r<c.length;r++)o+=c[r].name+", "+c[r].company,r+1<c.length&&(o+=" | ");(1===s[d].status||0===s[d].status||1===s[d].added)&&(i="disableIcon"),l+='<li class="list-group-item" data-type="'+e+'"><div class="row"><div class="col-md-2 alignText"><button type="button" class="btn btn-primary btn-sm '+t+'" '+n+' data-ind="'+d+'">'+e+'</button></div><div class="col-md-5 f12"><b class="db f14">'+s[d].title+"</b>"+o+'</div><div class="col-md-4 alignText"><span class="f12">'+s[d].starttime+'</span></div><div class="col-md-1 alignText"><div data-id="'+d+'" class="iconSVG '+i+'"><img src="images/briefcase.svg" alt=""></div></div></div></li>'}m.html('<div class="agenda"><ul class="list-group">'+l+'</ul></div><div class="modal-footer"></div>'),$("#modalBodyP0 .iconSVG").off("click").on("click",function(){$(this).hasClass("disableIcon")||($(this).addClass("disableIcon"),L(s[parseInt($(this).attr("data-id"))].asset_id))}),$("#modalBodyP0 button").off("click").on("click",function(){var a=s[parseInt($(this).attr("data-ind"))];H({videoid:a.resource.resource,title:a.title,mainObj:a})}),u=setTimeout(function(){u=null,Utility.loader({url:v.action_link,prldr:"H",cb:p.bind(this)})},12e3)},b=function(e){return"all"===e?(c.body[0].slot_data.sort(function(a,e){return a.status-e.status}),c.body[0].slot_data):c.body[0].slot_data.filter(function(a){if(a.status===e)return a})},w=function(a){$("#modalBodyP0 li").hide();"a0"===a?$("#modalBodyP0 li").show():"a1"===a?$("#modalBodyP0 [data-type=live]").show():"a2"===a?$("#modalBodyP0 [data-type=upcoming]").show():"a3"===a&&$("#modalBodyP0 [data-type=completed]").show()},x=function(){for(var e=c.body,a="",t='<div class="resources"><ul class="list-group">',o=0;o<e.length;o++)t+='<li class="list-group-item">',t+='<div class="row">',e[o].added&&(a="disableIcon"),"live"===e[o].type||"video"===e[o].type?(t+='<div class="col-md-1">',t+='<div class="material-icons">videocam</div>'):(t+='<div class="col-md-1">',t+='<div class="material-icons mr-3">description</div>'),t+="</div>",t+='<div class="col-md-8">'+e[o].title+"</div>",t+='<div class="col-md-2">',t+='<button type="button" class="btn btn-secondary btn-sm" data-id="'+o+'" >View</button>',t+="</div>",t+='<div class="col-md-1 alignText">',t+='<div  data-id="'+o+'" class="iconSVG '+a+'">',t+='<img src="images/briefcase.svg" alt="">',t+="</div>",t+="</div></li>",a="";t+='<div class="modal-footer"></div>',m.html(t),$("#modalBodyP0 li .iconSVG").off("click").on("click",function(){$(this).hasClass("disableIcon")||($(this).addClass("disableIcon"),L(e[parseInt($(this).attr("data-id"))].uuid))}),$("#modalBodyP0 li button").off("click").on("click",function(){var a=e[parseInt($(this).attr("data-id"))];"video"===a.type||"live"===a.type?H(a):"pdf"===a.type?_(a):"image"===a.type&&D(a)})},k=function(){for(var a,e=JSON.parse(c.body[0].playlistsource),t="",o=0;o<e.length;o++)a="",e[0].added&&(a="disableIcon"),t+='<li class="list-group-item"><div class="row"  data-id="'+o+'"><div class="col-md-1"><div class="material-icons">videocam</div></div><div class="col-md-8"><b>'+e[o].name+'</b></div><div class="col-md-2 alignText"><button type="button" class="btn btn-secondary btn-sm">PLAY</button></div><div class="col-md-1 alignText"><div data-id="'+o+'" class="iconSVG '+a+'"><img src="images/briefcase.svg" alt=""></div></div></li>';m.html('<ul class="list-group">'+t+'</ul><div class="modal-footer"></div>'),$("#modalBodyP0 li .iconSVG").off("click").on("click",function(){$(this).hasClass("disableIcon")||($(this).addClass("disableIcon"),L(e[parseInt($(this).attr("data-id"))].assetid))}),$("#modalBodyP0 li button").off("click").on("click",function(){var a=parseInt($(this).parent().parent().attr("data-id"));H({videoid:e[a].videoid,title:e[a].name,mainObj:e[a]})})},C=function(){$("#mh0").html(N(v.popup_type,'<div class="searchBar"><input type="text" id="attSearch" name="" placeholder="Search by name, company, designation"><i class="material-icons">search</i><div class="refreshIcon"><i class="material-icons">refresh</i></div></div>')),$("#exampleModal .searchBar i").off("click").on("click",function(){I()}),$("#exampleModal .searchBar").off("keypress").on("keypress",function(a){13==a.which&&I()}),$("#exampleModal .refreshIcon i").off("click").on("click",function(){$("#attSearch").val(""),Utility.loader({url:v.action_link,cb:function(a){c=a.data,S([])}})})},I=function(){var e=Utility.trim($("#attSearch").val()).toLowerCase(),a=c.body.filter(function(a){return-1!==a.firstname.toLowerCase().indexOf(e)||-1!==a.lastname.toLowerCase().indexOf(e)||-1!==a.companyname.indexOf(e)||-1!==a.jobtitle.toLowerCase().indexOf(e)});a.length?S(a):S([])},S=function(a){var e=0===a.length?c.body:a,t=EventStore.getUser().uuid,o="",i='<div class="participants">';i+='<ul class="list-group">',console.log(e);for(var n=0;n<e.length;n++)t!==e[n].uuid&&(e[n].cardShared&&(o="disableIcon"),i+="<li data-id="+e[n].uuid+">",i+='<div class="row">',i+='<div class="col-md-1 alignText">',i+='<div class="partAvatar">',i+='<img src="images/attendees.svg" alt="">',i+="</div>",i+="</div>",i+='<div class="col-md-8">',i+=e[n].firstname+"  "+e[n].lastname+" <br /> "+e[n].companyname,i+="</div>",i+='<div class="col-md-3">',i+='<div class="actions">',i+='<img src="images/chat.svg" alt="" data-id="chat_'+n+'">',i+='<img src="images/email.svg" alt="" data-id="mail_'+n+'">',i+='<img src="images/business-card.svg" alt=""  data-id="bcard_'+n+'" class="'+o+'">',i+="</div>",i+="</div>",i+="</div>",i+="</li>");i+="</ul>",i+="</div>",i+='<div class="modal-footer"></div>',m.html(i),$("#modalBodyP0 .actions img").off("click").on("click",function(){var a,e,t;$(this).hasClass("disableIcon")||(e=(a=$(this).attr("data-id").split("_"))[0],t=c.body[parseInt(a[1])],"chat"===e?($("#exampleModal").modal("hide"),Chat.openSingleWindow(t)):"mail"===e?P(t,!0,this):"bcard"===e&&T(t,!0,this))})},E=function o(){var a,e,t,i,n=c.data.resources,s="";s+='<div class="modal-body p0"><div class="briefcase"><ul class="list-group">';for(var l=0;l<n.length;l++)a="VIEW",i=e="","doc"===n[l].type||"image"===n[l].type||"pdf"===n[l].type?(e="document.svg",t=n[l].title,i="doc"):"video"===n[l].type?(a="PLAY",e="",i="video",t=n[l].title):"business_card"===n[l].type&&(e="business-card.svg",t=n[l].name,i="business_card"),s+='<li data-type="'+i+'"><div class="row"><div class="col-md-1"><label class="form-check-label" for="exampleCheck1"><input type="checkbox" class="form-check-input"  data-ind='+l+'><span></span></label></div><div class="col-md-1">',"video"===n[l].type?s+='<i class="material-icons">videocam</i></div><div class="col-md-8">'+t+"</div>":s+='<img src="images/'+e+'" alt=""></div><div class="col-md-8"><img src="images/download.svg" alt="" class="mr-2" data-type="dwnld" data-id="'+l+'">'+t+"</div>",s+='<div class="col-md-2 alignText"><button type="button" class="btn btn-secondary text-uppercase" id="btnview" data-id='+l+">"+a+"</button></div></div></li>";s+='</ul></div><div class="modal-footer"><p>Only content with <i class="material-icons f18">file_download</i> icon can be downloaded</p><button type="button"  id="btndeletes" class="btn btn-secondary text-uppercase">Delete <i class="material-icons f16">delete</i></button><button type="button"  id="btndownloads" class="btn btn-secondary text-uppercase"><i class="material-icons f18">file_download</i> Download</button></div>',m.html(s);var d=$("#modalBodyP0 #btndeletes");d.hide(),$("#modalBodyP0 .briefcase [type=checkbox]").off("click").on("click",function(){0!==$("#modalBodyP0 .briefcase [type=checkbox]:checked").length?d.show():d.hide()}),$("#modalBodyP0 .briefcase [data-type=dwnld]").off("click").on("click",function(){var a=parseInt($(this).attr("data-id")),e=c.data.resources[a];O({title:"download",url:baseUrl+"resource/download.json?resourceid="+e.uuid+"&eventid="+eventId})}),$("#modalBodyP0 #btnview").off("click").on("click",function(a){a.stopPropagation();var e=parseInt($(this).attr("data-id")),t=c.data.resources[e];"business_card"===t.type?T(t,!1,this):"pdf"===t.type?_(t):"image"===t.type?D(t):"video"===t.type?(t.videoid=t.resource,H(t)):alert("no id is available")}),$("#modalBodyP0 #btndownloads").off("click").on("click",function(a){a.stopPropagation();var t=[];$("#modalBodyP0  [type=checkbox]:checked").each(function(a){var e=parseInt($(this).attr("data-ind"));console.log("type::"+c.data.resources[e].type),"video"!==c.data.resources[e].type&&t.push(c.data.resources[e].uuid)}),0!==t.length&&O({title:"download",url:baseUrl+"resource/download.json?resourceid="+t.join(",")+"&eventid="+eventId})}),d.off("click").on("click",function(a){a.stopPropagation();var e,t=[];$("#modalBodyP0 [type=checkbox]:checked").each(function(a){var e=parseInt($(this).attr("data-ind"));t.push(c.data.resources[e].uuid)}),0!=t.length&&((e=new FormData).append("resourceid",t.join(",")),Utility.loader({url:"users/removefrombriefcase.json",data:e,type:"POST",cb:function(){V("success","Selected items deleted."),c.data.resources=c.data.resources.filter(function(a){return-1==t.indexOf(a.uuid)}),o()}}))})},M=function(a){$("#modalBodyP0 li").hide();"a0"===a?$("#modalBodyP0 li").show():"a1"===a?$("#modalBodyP0 [data-type=video]").show():"a2"===a?$("#modalBodyP0 [data-type=business_card]").show():"a3"===a&&$("#modalBodyP0 [data-type=doc]").show()},_=function(a){"pdf"===a.resource.split(".").pop().toLowerCase()&&B("application/pdf")?($("#exampleModal2 #exampleModalLabel2").text(a.title),t.renderPDF(a),$("#exampleModal2").modal("show")):O(a)},P=function(a,e,t){$(".modal-overlay-cont #modalinsidelable").text("Email"),$(".modal-overlay-cont").addClass("show"),n.renderMail($("#modalinsidebody"),a,e,R.bind(this),t)},T=function(a,e,t){$(".modal-overlay-cont #modalinsidelable").text("Business Card "),$(".modal-overlay-cont .titleHdng").text("Sharew Your Card to "+a.firstname+" "+a.lastname+" ("+a.companyname+")"),$(".modal-overlay-cont").addClass("show"),r.renderCard($("#modalinsidebody"),a,e,R.bind(this),t)},H=function(a){$(".modal-overlay-cont").addClass("show"),$(".modal-overlay-cont #modalinsidelable").text("Now playing: "+a.title),a.pos="wall",a.autoplay=!0,a.muted=!1,i.renderVideo($("#modalinsidebody")[0],a)},D=function(a){$(".modal-overlay-cont").addClass("show"),$(".modal-overlay-cont #modalinsidelable").text(a.title),o.renderImage($("#modalinsidebody")[0],a)},A=function(){},U=function(){$("#exampleModal"),$("#exampleModalLabel"),m=$("#modalBodyP0"),$("#exampleModal2").on("hidden.bs.modal",function(){$("#exampleModal2 .modal-body").html(""),$("#exampleModal").modal("show")}),$("#exampleModal").on("hidden.bs.modal",function(){$("#exampleModal .modal-body").html(""),$(".modal-overlay-cont #modalinsideclose").click(),"agenda"===v.popup_type&&u&&clearInterval(u)}),$(".modal-overlay-cont #modalinsideclose").off("click").on("click",function(){$("#exampleModal .modal-overlay-cont").removeClass("show"),$(".modal-overlay-cont #modalinsidebody").html(""),$(".modal-overlay-cont .titleHdng").html(""),i.destroyPlayer()})},j=function(a,e){var t='<div class="tabs">';t+='<ul class="nav nav-tabs">';for(var o=0;o<a.length;o++)t+='<li class="nav-item">',t+='<a class="nav-link active" id="a'+o+'">'+a[o]+"</a>",t+="</li>";t+="</ul></div>",$("#mh0").html(N(v.popup_type,t)),$("#exampleModal .tabs a").removeClass("active"),$("#exampleModal #a0").addClass("active"),$("#exampleModal .tabs a").on("click",function(){var a=this.id;$("#exampleModal .tabs a").removeClass("active"),$("#exampleModal #"+a).addClass("active"),e(a)})},B=function(t){return Array.prototype.reduce.call(navigator.plugins,function(a,e){return a||Array.prototype.reduce.call(e,function(a,e){return a||e.type==t},a)},!1)},O=function(a){console.log(a.url);var e=document.createElement("a");e.setAttribute("href",a.url),e.setAttribute("download",a.title),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},L=function(a){var e=new FormData;e.append("resourceid",a),Utility.loader({url:"users/addtobriefcase.json",data:e,type:"POST",cb:function(){console.log("done"),V("success","Added to your briefcase")}})},R=function(){$("#exampleModal2 #exampleModalLabel2").text("My Profile"),$("#exampleModal2").modal("show"),$("#exampleModal2 .tabs").remove(),h(!1)},V=function(a,e){Notification.notify(a,e)},N=function(a,e){return'<h5 class="modal-title" id="exampleModalLabel">'+a+"</h5>"+e+'<button type="button" class="close" data-dismiss="modal" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="11.002" viewBox="0 0 11 11.002"><path d="M18.089,16.79l3.929-3.931a.921.921,0,1,0-1.3-1.3l-3.929,3.931-3.929-3.931a.921.921,0,1,0-1.3,1.3l3.929,3.931L11.556,20.72a.921.921,0,0,0,1.3,1.3l3.929-3.931,3.929,3.931a.921.921,0,1,0,1.3-1.3Z" transform="translate(-11.285 -11.289)"/></svg></button>'};return{init:function(a,e){(i=new VideoComponent).init(this,A.bind(this)),t=new PDFComponent,(r=new BusinessCard).init(),o=new ImageContainer,(n=new Mail).init(),U()},renderModal:function(a){m.html(""),$("#mh0").html(""),$("#exampleModal .tabs").remove(),$("#exampleModal .searchBar").remove(),"player"===(v=a).popup_type?($("#mh0").html(N("Now playing: "+a.title,"")),i.renderVideo(m[0],{videoid:a.action_link,autoplay:!0,muted:!1,pos:"modal"})):"user"===a.popup_type||"leaderBoard"===a.popup_type?e(c=a):""===a.action_link?alert("Link not available: "+a.popup_type):Utility.loader({url:a.action_link,cb:p.bind(this)})}}},Notification=function(){var t,a=function a(){t=new WebSocket("ws://172.29.72.27:2019");var e=EventStore.getUserSession();console.log(e),t.onopen=function(a){console.log("connection established"),console.log("sending messages to the server"),t.send(JSON.stringify([e,"socket-connection-ack"]))},t.onmessage=function(a){console.log("[message] Data received from server: ".concat(a.data));var e=JSON.parse(a.data);console.log(e),"registered"!=e.message&&i("info",e.message)},t.onclose=function(){a()},o()},o=function a(){var e=EventStore.getUserSession();t&&1===t.readyState&&(t.send(JSON.stringify([e,"socket-connection-ack"])),setTimeout(a,500))},i=function(a,e){$(".alert-msg[role=alert]").addClass("H");"info"===a?n("INFROMATION",a,e):"success"===a?n("SUCCESS",a,e):"fail"===a&&n("FAIL","warning",e)},n=function(a,e,t){var o='<div class="close-ico" id="clsbtn"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="11.002" viewBox="0 0 11 11.002"><path class="a" d="M18.089,16.79l3.929-3.931a.921.921,0,1,0-1.3-1.3l-3.929,3.931-3.929-3.931a.921.921,0,1,0-1.3,1.3l3.929,3.931L11.556,20.72a.921.921,0,0,0,1.3,1.3l3.929-3.931,3.929,3.931a.921.921,0,1,0,1.3-1.3Z" transform="translate(-11.285 -11.289)"/></svg></div><i class="material-icons">info</i><b>'+a+"</b>"+t;$("#alertBox").removeClass(),$("#alertBox").addClass("alert-msg alert-msg-"+e+" show");var i=setTimeout(function(){$("#alertBox").removeClass("show")},3e3);$("#alertBox").html(o),$("#alertBox").addClass("show"),$("#alertBox #clsbtn").off("click").on("click",function(){clearInterval(i),$("#alertBox").removeClass("show")})};return{notify:i,init:function(){a()}}}(),PDFComponent=function(){var e=function(a,e){return'<embed src="'+a+'" type="application/pdf" width="100%" height="'+e+'" style="overflow-y: hidden">'};return{init:function(){},renderPDF:function(a){$(".modal-body.p1").html(""),setTimeout(function(){$(".modal-body.p1").html(e(a.resource,$(".modal-body.p1").height()))},300)}}},VideoComponent=function(){var i,o,t,n,s,l,d,c,a,r,m,u,v,p,h=!1,f={},g=function(a){var e;a=Math.floor(parseInt(a)),console.log(a),a>=f.mainObj.endtime?console.log("Evnet Condulded"):0<=(n=f.mainObj.resource.starttime-a)?(t=0,l=setInterval(function(){n<=++t?(clearInterval(l),b(s,f),d=0):(e=y(n-t),m.text(e.hour),u.text(e.minute),v.text(e.second))},1e3),$(r).html(M()),m=$(".count-down #hrs"),u=$(".count-down #mins"),v=$(".count-down #secs")):(d=Math.abs(n),b(s,f))},y=function(a){var e={},t=Math.floor(a/86400);return e.day=t<10?"0"+t:t,t=Math.floor(a/3600)%24,e.hour=t<10?"0"+t:t,t=Math.floor(a/60)%60,e.minute=t<10?"0"+t:t,t=Math.floor(a)%60,e.second=t<10?"0"+t:t,e},b=function(e,a){o="playerContainer_"+E(10);var t={};t.videoid=a.videoid,t.autoplay=a.autoplay,t.muted=a.muted;a.pos&&a.pos;$(e).html(""),a.pos&&"wall"===a.pos?w("100%",t,e):setTimeout(function(){var a=$("#modalBodyP0").width();w(9*a/16+"px",t,e)},500)},w=function(a,e,t){$(t).html('<div id="'+o+'" style="width:100%;height:'+a+'"></div>'),x(e)},x=function(a){var e={apiKey:"test403web5a8sg6o9ug",env:"stg",contEl:o,version:"3.5.10",video:{simulive:c,id:a.videoid},player:{autoPlay:a.autoplay,mute:a.muted,skipAd:!0},live:{lowLatency:!0,loadDVR:!1},callbacks:{}};console.log("vp  ",h,i),h?(i.destroy(),i=null,i=new SlikePlayer(e),C()):k(e)},k=function(a){spl.load(a,function(a,e){a&&(h=!0,(i=new SlikePlayer(e)).on(SlikePlayer.Events.PLAYER_ERROR,function(a,e){console.log("player error",e)}),C())})},C=function(){i.on(SlikePlayer.Events.INIT,function(a,e){}),i.on(SlikePlayer.Events.VIDEO_STARTED,function(a,e){var t,o;c&&(i.bpl.seek(d),p=i.bpl.video.node,I(),t=0,o=setInterval(function(){3===++t&&clearInterval(o),$(".__liveIndicator").removeClass(" __switchLive")},1e3))}),i.on(SlikePlayer.Events.VIDEO_RESUMED,function(a,e){c&&$.ajax({url:"http://time.akamai.com?"+(new Date).getTime(),success:function(a){S(a)}})}),i.on(SlikePlayer.Events.VIDEO_TIMEUPDATE,function(a,e){}),i.on(SlikePlayer.Events.VIDEO_PAUSED,function(a,e){console.log("VIdeo paused swithched off"),$(".__liveIndicator").addClass(" __switchLive")}),i.bpl.video.node.addEventListener("ended",function(){c&&(clearInterval(a),$(r).html(e()))}),$(".__liveIndicator").off("click").on("click",function(){p.paused||(console.log("HERRRRRR"),$.ajax({url:"http://time.akamai.com?"+(new Date).getTime(),success:function(a){var e=parseInt(a)-(f.mainObj.resource.starttime+Math.round(p.currentTime));console.log(e+"   diff"),i.bpl.seek(p.currentTime+e),console.log(" swithched ON"),$(".__liveIndicator").removeClass(" __switchLive")}}))})},I=function(){a=setInterval(function(){p.paused||$.ajax({url:"http://time.akamai.com?"+(new Date).getTime(),success:function(a){S(a)},error:function(){}})},1e4)},S=function(a){var e=f.mainObj.resource.starttime+Math.round(p.currentTime),t=Math.floor(parseInt(a));console.log("Difference ",t-e);var o=parseInt(a)-(f.mainObj.resource.starttime+Math.round(p.currentTime));10<=o?p.currentTime+o>=p.duration||p.paused||(i.bpl.seek(p.currentTime+o),console.log("SWITCHED ON TOL"),$(".__liveIndicator").removeClass(" __switchLive")):5<=o?$(".__liveIndicator").hasClass(" __switchLive")||$(".__liveIndicator").addClass(" __switchLive"):$(".__liveIndicator").removeClass(" __switchLive")},E=function(a){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=t.length,i=0;i<a;i++)e+=t.charAt(Math.floor(Math.random()*o));return e},M=function(){return'<div class="count-down"><h2>THE EVENT WILL START IN</h2><div class="row mb-0 mt-3"><div class="duration"><h3 id="hrs">00</h3><span>HOURS</span></div><div class="divider">:</div><div class="duration"><h3 id="mins">00</h3><span>MINUTES</span></div><div class="divider">:</div><div class="duration"><h3 id="secs">00</h3><span>SECONDS</span></div></div></div>'},e=function(){return'<div class="count-down"><h2>EVENT CONCLUDED</h2></div>'};return{init:function(a,e){0},renderVideo:function(a,e){r=a,c=d=0,e.mainObj&&e.mainObj.hasOwnProperty("status")&&0===e.mainObj.status?(c=1,s=a,f=e,$.ajax({url:"http://time.akamai.com?"+(new Date).getTime(),success:function(a){g(a)}})):b(a,e)},destroyPlayer:function(){try{clearInterval(l)}catch(a){console.log(a.message)}}}},WallVideo=function(){var t,o,i=!1,n=function(a,e,t){$(t).html('<div id="'+o+'" style="width:100%;height:'+a+'"></div>'),s(e)},s=function(a){var e={apiKey:"test403web5a8sg6o9ug",env:"prod",contEl:o,version:"",video:{id:a.videoid},player:{autoPlay:a.autoplay,mute:a.muted,skipAd:!0},live:{lowLatency:!0,loadDVR:!1},callbacks:{}};i?(t.destroy(),t=null,t=new SlikePlayer(e),d()):l(e)},l=function(a){spl.load(a,function(a,e){a&&(i=!0,(t=new SlikePlayer(e)).on(SlikePlayer.Events.PLAYER_ERROR,function(a,e){console.log("player error",e)}),d())})},d=function(){t.on(SlikePlayer.Events.INIT,function(a,e){console.log("INIT")}),t.on(SlikePlayer.Events.VIDEO_STARTED,function(a,e){console.log("player started")}),t.on(SlikePlayer.Events.VIDEO_ENDED,function(a,e){})},c=function(a){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=t.length,i=0;i<a;i++)e+=t.charAt(Math.floor(Math.random()*o));return e};return{renderVideo:function(a,e){o="playerContainer_"+c(10);var t={};t.videoid=e.videoid,t.autoplay=e.autoplay,t.muted=e.muted;e.pos&&e.pos;$(a).html(""),n("100%",t,a)}}},Login=function(){var t="usermailid",a=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==a?e:3&e|8).toString(16)})},e=function(a,e,t){var o,i;t?((i=new Date).setTime(i.getTime()+24*t*60*60*1e3),o="; expires="+i.toGMTString(),console.log(o)):o="",console.log("cookie name is ",a+"="+e+o+"; path=/"),document.cookie=a+"="+e+o+"; path=/"},o=function(){if(0<document.cookie.length){var a=document.cookie.indexOf(t+"=");if(-1!=a){a=a+t.length+1;var e=document.cookie.indexOf(";",a);return-1==e&&(e=document.cookie.length),console.log("coookie name getting"),unescape(document.cookie.substring(a,e))}}return""};return{init:function(){return e(t,a()),o()},getCookie:o,validateEmail:function(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())},createCookie:e,deleteCookie:function(){var a=new Date;a.setTime(a.getTime()-864e5);var e="expires="+a.toGMTString();window.document.cookie=t+"=; "+e}}}(),Navigation=function(){var o,i,n,t=function(){for(var a=n.item,e="",t=0;t<a.length;t++)e+="<a  data-id="+t+">",e+='<i class="demo-icon">'+a[t].icon+"</i>",e+=a[t].label,e+="</a>";$(".footerNav").html(e),$(".footerNav a").off("click").on("click",function(){var a=parseInt($(this).attr("data-id")),e=n.item[a];""!==e.action_link&&("internal_popup"===e.action_type?o.modalOnLoad(e):"internal_page"===e.action_type&&i(e.action_link))}),$("#topNavigation a").off("click").on("click",function(){"nhome"===this.id||("nlbrd"===this.id?o.modalOnLoad({popup_type:"leaderBoard",template:"leaderBoard",action_link:""}):this.id)})};return{init:function(a,e){o=a,i=e,n=EventStore.getNavigation(),t()}}},PageRenderer=function(){var t,v,o,p,i,n,s=function(a){var e,t,o,i,n,s,l="",d="",c="";l+='<img src="'+a.image+'" alt="">';for(var r=[],m=0;m<a.componants.length;m++)"hotspot"==a.componants[m].type||"video"==a.componants[m].type||"help_box"===a.componants[m].type||"text"===a.componants[m].type||"banner"===a.componants[m].type?"rect"===a.componants[m].shape_type&&(a.componants[m].coor||(i=a.componants[m].coordinate.split(","),e=Math.round(100*parseInt(i[0])/a.width),t=Math.round(100*parseInt(i[1])/a.height),s=Math.round(100*(parseInt(i[2])-parseInt(i[0]))/a.width),o=Math.round(100*(parseInt(i[3])-parseInt(i[1]))/a.height),a.componants[m].coor={left:e,top:t,width:s,height:o}),l+='<div class="anchorUI" style="left: '+a.componants[m].coor.left+"%; top: "+a.componants[m].coor.top+"%; width: "+a.componants[m].coor.width+"%; height: "+a.componants[m].coor.height+'%;background:rgba(0, 0, 255, 0);" data-id='+m+'><div class="anchorWrapper"><span class="helpText">'+a.componants[m].tooltip+"</span></div></div>","video"==a.componants[m].type&&r.push(m)):"left"===(n=a.componants[m].position.split("-")[0])?d+='<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-cust="'+m+'">'+a.componants[m].title+f(a.componants[m].title)+"</button>":"right"===n&&(c+='<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-cust="'+m+'">'+f(a.componants[m].title)+a.componants[m].title+"</button>");$(window).scrollTop(0),$(".bodyBg").html(l),$("#floatLeft").html(d),$("#floatRight").html(c),h();for(var u=0;u<r.length;u++)$($(".bodyBg .anchorUI")[r[u]]).unbind(),v.renderVideo($(".bodyBg .anchorUI")[r[u]],{videoid:p.componants[r[u]].action_link,autoplay:!1,muted:!1,pos:"wall"})},h=function(){$(".bodyBg .anchorUI").off("click").on("click",function(){var a=parseInt($(this).attr("data-id")),e=p.componants[a];"hotspot"===e.type||"banner"===e.type||"text"===e.type||"help_box"===e.type?"internal_popup"===e.action_type?($("#exampleModal").modal("show"),console.log("POPUP"),o.renderModal(e)):"internal_page"===e.action_type?(console.log("INternal page",e.action_link),t(e.action_link)):"animatied_navigate"===e.action_type?l(e):alert("No Action Type"):alert("No Type")}),$(".floater [data-toggle='modal']").off("click").on("click",function(a){o.renderModal(p.componants[parseInt($(this).attr("data-cust"))])}),p.on_load&&"none"!==p.on_load.action_type&&""!==p.on_load.action_link&&a(p.on_load)},a=function(a){$("#exampleModal").modal("show"),o.renderModal(a)},l=function(e){i.addEventListener("loadedmetadata",function a(){this.removeEventListener("loadedmetadata",a),n.show(),$("body").css("overflow","hidden"),$("#vd").show(),this.play(),t(e.action_link)}),i.addEventListener("ended",function a(){this.removeEventListener("ended",a),i.src="",n.hide(),$("body").css("overflow","")}),i.src=e.videourl},d=function(){console.log(_d)},c=function(){i=$("#vidAnimation")[0],n=$("#vidContainer")},f=function(a){switch(a){case"Agenda":return'<svg xmlns="http://www.w3.org/2000/svg" width="22.251" height="21.08" viewBox="0 0 22.251 21.08" style="    /* width: 15px; */"><path d="M24.08,16.211H4.171A1.175,1.175,0,0,0,3,17.382v7.027A1.175,1.175,0,0,0,4.171,25.58H24.08a1.175,1.175,0,0,0,1.171-1.171V17.382A1.175,1.175,0,0,0,24.08,16.211Zm0-11.711H4.171A1.175,1.175,0,0,0,3,5.671V12.7a1.175,1.175,0,0,0,1.171,1.171H24.08A1.175,1.175,0,0,0,25.251,12.7V5.671A1.175,1.175,0,0,0,24.08,4.5Z" transform="translate(-3 -4.5)"></path></svg>';case"FAQ":return'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" style="width: 22px;height: 22px;"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></svg>';case"Briefcase":return'<svg xmlns="http://www.w3.org/2000/svg" width="21.691" height="18.98" viewBox="0 0 21.691 18.98"><path d="M13.557,15.129a.678.678,0,0,1-.678.678H8.812a.678.678,0,0,1-.678-.678V13.1H0v6.1A2.085,2.085,0,0,0,2.034,21.23H19.658A2.085,2.085,0,0,0,21.691,19.2V13.1H13.557Zm6.1-8.812H16.269V4.284A2.085,2.085,0,0,0,14.235,2.25H7.456A2.085,2.085,0,0,0,5.423,4.284V6.317H2.034A2.085,2.085,0,0,0,0,8.351V11.74H21.691V8.351A2.085,2.085,0,0,0,19.658,6.317Zm-6.1,0H8.134V4.961h5.423Z" transform="translate(0 -2.25)"></path></svg>';case"Poll":return'<svg xmlns="http://www.w3.org/2000/svg" width="20.546" height="20.546" viewBox="0 0 20.546 20.546"><path d="M18.345,2.25H2.2A2.2,2.2,0,0,0,0,4.451V20.595a2.2,2.2,0,0,0,2.2,2.2H18.345a2.2,2.2,0,0,0,2.2-2.2V4.451A2.2,2.2,0,0,0,18.345,2.25ZM7.338,17.659a.734.734,0,0,1-.734.734H5.136a.734.734,0,0,1-.734-.734v-5.87a.734.734,0,0,1,.734-.734H6.6a.734.734,0,0,1,.734.734Zm4.4,0a.734.734,0,0,1-.734.734H9.539a.734.734,0,0,1-.734-.734V7.386a.734.734,0,0,1,.734-.734h1.468a.734.734,0,0,1,.734.734Zm4.4,0a.734.734,0,0,1-.734.734H13.942a.734.734,0,0,1-.734-.734V14.724a.734.734,0,0,1,.734-.734h1.468a.734.734,0,0,1,.734.734Z" transform="translate(0 -2.25)"/></svg>';case"Feedback":return'<svg xmlns="http://www.w3.org/2000/svg" width="22.46" height="22.46" viewBox="0 0 22.46 22.46"><defs><style>.a{fill:#c9c9c9;}</style></defs><path d="M23.214,3H5.246A2.243,2.243,0,0,0,3.011,5.246L3,25.46l4.492-4.492H23.214a2.253,2.253,0,0,0,2.246-2.246V5.246A2.253,2.253,0,0,0,23.214,3ZM15.353,16.476H13.107V14.23h2.246Zm0-4.492H13.107V7.492h2.246Z" transform="translate(-3 -3)"></path></svg>';case"Playlist":return'<svg xmlns="http://www.w3.org/2000/svg" width="26.809" height="17.873" viewBox="0 0 26.809 17.873"><defs></defs><path d="M18.319,14.106H3V16.66H18.319Zm0-5.106H3v2.553H18.319ZM3,21.766H13.213V19.213H3Zm24.894-5.745,1.915,1.915-8.924,8.936-5.758-5.745,1.915-1.915,3.843,3.83Z" transform="translate(-3 -9)"></path></svg>';case"Attendies":return'<svg xmlns="http://www.w3.org/2000/svg" width="25.698" height="16.701" viewBox="0 0 25.698 16.701"><defs><style>.a{fill:#c9c9c9;}</style></defs><g transform="translate(-2.215 -7.748)"><path class="a" d="M21.5,20.6c-.641-.229-1.688-.24-2.152-.418a3.04,3.04,0,0,1-1-.464,6.154,6.154,0,0,1-.166-1.631,2.635,2.635,0,0,0,.567-.8,8.9,8.9,0,0,0,.275-1.574s.378.16.527-.6c.126-.652.366-1,.3-1.477s-.332-.366-.332-.366a4.286,4.286,0,0,0,.332-2.141,3.425,3.425,0,0,0-3.7-3.383,3.437,3.437,0,0,0-3.7,3.383,4.349,4.349,0,0,0,.326,2.141s-.269-.114-.332.366.172.824.3,1.477c.149.761.527.6.527.6a8.991,8.991,0,0,0,.275,1.574,2.635,2.635,0,0,0,.567.8,6.154,6.154,0,0,1-.166,1.631,2.926,2.926,0,0,1-1,.458c-.458.177-1.505.2-2.152.429a4.039,4.039,0,0,0-2.621,3.846H24.12A4.031,4.031,0,0,0,21.5,20.6Z" transform="translate(-1.112)"/><path class="a" d="M8.425,18.454a3.886,3.886,0,0,0,1.912-.532c-.887-1.345-.406-2.913-.59-4.378a2.415,2.415,0,0,0-2.673-2.335H7.051A2.422,2.422,0,0,0,4.4,13.543c-.183,1.459.326,3.205-.584,4.378a3.6,3.6,0,0,0,1.917.475h0a2.9,2.9,0,0,1-.057.962,1.445,1.445,0,0,1-.687.315,13.28,13.28,0,0,0-1.482.412,2.41,2.41,0,0,0-1.293,2.129h4.6a4.112,4.112,0,0,1,1.832-1.706,3.843,3.843,0,0,1,1.414-.3s.217-.343-.5-.475a4.879,4.879,0,0,1-1.1-.383C8.35,19.226,8.425,18.454,8.425,18.454Z" transform="translate(0 -0.643)"/><path class="a" d="M25.719,18.454a3.886,3.886,0,0,1-1.912-.532c.887-1.345.406-2.913.59-4.378a2.415,2.415,0,0,1,2.673-2.335h.023a2.422,2.422,0,0,1,2.65,2.335c.183,1.459-.326,3.205.584,4.378a3.6,3.6,0,0,1-1.917.475h0a2.9,2.9,0,0,0,.057.962,1.445,1.445,0,0,0,.687.315,13.28,13.28,0,0,1,1.482.412,2.41,2.41,0,0,1,1.293,2.129h-4.6A4.112,4.112,0,0,0,25.5,20.508a3.843,3.843,0,0,0-1.414-.3s-.217-.343.5-.475a4.879,4.879,0,0,0,1.1-.383C25.794,19.226,25.719,18.454,25.719,18.454Z" transform="translate(-4.016 -0.643)"/></g></svg>'}};return{init:function(a,e){t=e,v=new WallVideo,(o=new ModalComponent).init(this,d.bind(this)),c()},renderPage:function(a){var e;$("#exampleModal").hasClass("show")&&$("#exampleModal").modal("hide"),$("#exampleModal2").hasClass("show")&&$("#exampleModal2").modal("hide"),(p=a).width?s(a):($("#preloader").removeClass("H"),(e=new Image).src=a.image,e.onload=function(){a.width=e.width,a.height=e.height,$("#preloader").addClass("H"),s(a)})},modalOnLoad:a}},User=function(){var e,t,o=function(a){switch(a){case"online":1!==EventStore.getUserProfile().status&&i(1);break;case"away":-1!==EventStore.getUserProfile().status&&i(2);break;case"dnd":-2!==EventStore.getUserProfile().status&&i(3);break;case"mapp":break;case"mprof":e.modalOnLoad({popup_type:"user",template:"myProfile",data:EventStore.getUserProfile()});break;case"logout":Utility.loader({url:"login/logout.json",data:{},type:"POST",cb:function(a){console.log("logout ",a),a.data&&(Login.deleteCookie(),document.location.reload())}})}},i=function(a){var e=EventStore.getUserProfile(),t=new FormData;t.append("firstname",e.firstname),t.append("lastname",e.lastname),t.append("jobtitle",e.jobtitle),t.append("companyname",e.companyname),t.append("phone",e.phone),t.append("status",status),e.status=a,Utility.loader({url:"users/update.json",data:t,type:"POST",cb:function(){EventStore.getUserProfile().status=a,n(a)}})},n=function(){var a=EventStore.getUserProfile(),e=$("#userStatus #status");e.removeClass(),$("#userStatus \t.dropdown-item").removeClass("current"),1==a.status?(e.addClass("status online"),$("#userStatus \t[data-id=online]").addClass("current")):2==a.status?(e.addClass("status away"),$("#userStatus \t[data-id=away]").addClass("current")):3===a.status&&(e.addClass("status notdistrub"),$("#userStatus \t[data-id=dnd]").addClass("current"))},s=function(){t.html("Total No Users - <b>"+Math.floor(200*Math.random())+"1</b> <br>This Location - <b>"+Math.floor(10*Math.random())+"1</b>")};return{init:function(a){e=a,t=$(".wrapper #audience"),$(".header-rhs [data-id]").on("click",function(){o($(this).attr("data-id"))}),s()},audinces:s,userStatusUpdate:n}},EventStore=function(){var t={};return{getStore:function(){return t},setStore:function(){playload.type},parseMaster:function(a){if(JSON.stringify(a),a.error)return{suc:!1,msg:"Error key false"};var e=a.events;return t.eventData=e,t.pages=e.pages,t.actPage=e.homepage,t.navigation=e.navigation,t.userProfile="",t.chats={},t.attendies=[],t.chats.rooms=e.chats,{suc:!0,msg:"Success",actPage:e.homepage}},getPageData:function(e){var a=t.pages.filter(function(a){return a.id===e});return a.length?(t.actPage=e,a[0]):""},getNavigation:function(){return t.navigation},setUser:function(a){t.user="",a&&!a.error&&(t.user=a)},getUser:function(){return t.user.user},setUserProfile:function(a){a&&!a.error&&(t.userProfile=a.data)},getUserProfile:function(){return t.userProfile},setActivePage:function(a){actPage=a},getActivePage:function(){return actPage},updateUserProfile:function(a){var e=t.userProfile;e.firstname=a.firstname,e.lastname=a.lastname,e.jobtitle=a.jobtitle,e.companyname=a.companyname,e.phone=a.phone},setAttendies:function(a){t.chats.users=a},getAttendies:function(){return t.attendies},getUserSession:function(){return t.user.uuid}}}(),Router=function(){var s,t=function(){var t,o,i,n;window.addEventListener("hashchange",(t=function(){s(window.location.hash)},o=function(){s(window.location.hash)},i=[window.location.hash],n=window.history.length,function(){var a=window.location.hash,e=window.history.length;i.length&&n==e?i[i.length-2]==a?(i=i.slice(0,-1),t()):(i.push(a),o()):(i.push(a),n=e)}))};return{init:function(a,e){s=e,t()}}},Utility=function(){var e=new function(){var o=[],e=function(){null==o[0].url||(console.log(!!o[0].prldr,"prl"),o[0].prldr||$("#preloader").removeClass("H"),a(o[0]))},i=function(){0!=o.length&&o.splice(0,1),0<o.length&&e()},a=function(a){var e={};e.url=baseUrl+a.url,a.type&&"POST"===a.type?(e.type="POST",e.data=a.data,e.processData=!1,e.contentType=!1):(e.type="GET",e.datatype="application/json"),e.success=function(a){var e;e=a,$("#preloader").addClass("H"),o[0].cb({data:e}),i()},e.error=function(a,e,t){console.log(a,e,t),function(){$("#preloader").addClass("H");o[0].cb({data:null}),i()}()},$.ajax(e)};return{load:function(a){o.push(a),1==o.length&&e()}}};return{loader:function(a){e.load(a)},strngReplace:function(a,e,t){return a.split(e).join(t)},trim:function(a){return a.replace(/^\s+|\s+$/g,"")}}}();